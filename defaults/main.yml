---
# testing
test: false

# validate checksums by default
validate_checksum: true

# set the default directory and checksum type
ova_download_directory: "${HOME}"
ova_checksum_type:      'sha256'

# set the default versions for the workload cluster
kubernetes_version:   'v1.17.3'
haproxy_capv_version: 'v0.6.0'

# set the default operating system for kubernetes for the workload cluster
kubernetes_operating_system: 'ubuntu18_04'

# set the image checksum types
kubernetes_ova_checksum_type: "{{ ova_checksum_type }}"
haproxy_ova_checksum_type:    "{{ ova_checksum_type }}"

# ubunutu images
kubernetes_ubuntu18_04_ova_url:          "http://storage.googleapis.com/capv-images/release/{{ kubernetes_version }}/ubuntu-1804-kube-{{ kubernetes_version }}.ova"
kubernetes_ubuntu18_04_ova_checksum_url: "{{ kubernetes_ubuntu18_04_ova_url }}.sha256"

# photon images
kubernetes_photon3_ova_url:          "http://storage.googleapis.com/capv-images/release/{{ kubernetes_version }}/photon-3-kube-{{ kubernetes_version }}.ova"
kubernetes_photon3_ova_checksum_url: "{{ kubernetes_photon3_ova_url }}.sha256"

# centos images
kubernetes_centos7_ova_url:          "http://storage.googleapis.com/capv-images/release/{{ kubernetes_version }}/centos-7-kube-{{ kubernetes_version }}.ova"
kubernetes_centos7_ova_checksum_url: "{{ kubernetes_centos7_ova_url }}.sha256"

# haproxy images
haproxy_ova_url:          "https://storage.googleapis.com/capv-images/extra/haproxy/release/{{ haproxy_capv_version }}/capv-haproxy-{{ haproxy_capv_version }}.ova"
haproxy_ova_checksum_url: "{{ haproxy_ova_url }}.sha256"

# set the template names
#
# NOTE: we no longer need to defined these as we are expecting our vars to come from the clusterctl vars file
#
# kubernetes_template_name: "{{ kubernetes_operating_system }}-capv-kube-{{ kubernetes_version }}-template"
# haproxy_template_name:    "haproxy-{{ haproxy_capv_version }}-capv-kube-{{ kubernetes_version }}-template"

# set the image based on the operating system
kubernetes_ova_url: |
  {% if kubernetes_operating_system == 'centos7' -%}
  {{ kubernetes_centos7_ova_url }}
  {%- elif kubernetes_operating_system == 'ubuntu18_04' -%}
  {{ kubernetes_ubuntu18_04_ova_url }}
  {%- elif kubernetes_operating_system == 'photon3' -%}
  {{ kubernetes_photon3_ova_url }}
  {%- else -%}
  None
  {%- endif %}

# set the checksum based on the operating system
kubernetes_ova_checksum_url: |
  {% if kubernetes_operating_system == 'centos7' -%}
  {{ kubernetes_centos7_ova_checksum_url }}
  {%- elif kubernetes_operating_system == 'ubuntu18_04' -%}
  {{ kubernetes_ubuntu18_04_ova_checksum_url }}
  {%- elif kubernetes_operating_system == 'photon3' -%}
  {{ kubernetes_photon3_ova_checksum_url }}
  {%- else -%}
  None
  {%- endif %}

# set the default values for the template
vsphere_networks:
  'nic0': "{{ VSPHERE_NETWORK }}"
